<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="theme-color" content="#A5D6A7" />

    <title>PyPunch: Project Time Tracking App</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap-flex.min.css" rel="stylesheet" >
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
  	<nav class="navbar navbar-light bg-faded">
  		<div class="nav navbar-nav">
  			<a class="nav-item nav-link" href="#"><i class="material-icons">menu</i></a>
  		</div>
  		<a class="navbar-brand" href="#">PyPunch</a>
  		<div class="nav navbar-nav float-xs-right">
    		<a class="nav-item nav-link" href="#"><i class="material-icons">add</i></a>
    		<a class="nav-item nav-link" href="#"><i class="material-icons">star</i></a>
    		<a class="nav-item nav-link" href="#"><i class="material-icons">face</i></a>
    		<a class="nav-item nav-link" href="#"><i class="material-icons">info</i></a>
  		</div>
</nav>
  	</nav>
  	<section class="container">
  		<article class="xs-col-12">
			<div id="accordion" role="tablist" aria-multiselectable="true">
				<div class="card">
					<div class="card-header" role="tab" id="headingOne">
						<div class="row">
							<div class="col-xs">
							<h5 class="mb-0">Hello, {{username}}!</h5>
							</div>
							<div class="col-xs pull-right text-xs-right">
							<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"><i class="material-icons">expand_more</i></a>
							</div>
						</div>
					</div>

					<div id="collapseOne" class="collapse in" role="tabpanel" aria-labelledby="headingOne">
						<div class="card-block">
						<ul>
							<li>Most recent punch: {{most_recent_punch.project.name}} | {{most_recent_punch.time_start}}</li>
							<li>Most recent punch on your projects: {{project_recent_punch}}</li>
							<li>Most recent project shared with you:</li>
						</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs">
					<h2>Projects</h2>
				</div>
				<div class="col-xs text-xs-right">
					<a href="#"><i class="material-icons">add</i></a>
					<a href="#" data-toggle="popover" title="Sort By" data-placement="left" 
					data-content='
					<div class="dropdown open">
						<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sorting Methods
						</button>
						<div class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenuButton">
						<a class="dropdown-item" href="#">Latest Punch</a>
						<a class="dropdown-item" href="#">Latest Created</a>
						<a class="dropdown-item" href="#">Name</a>
  					</div>
					</div>
					'>
					<i class="material-icons" >sort</i></a>
				</div>
			</div>
  			<div class="row">

  			{% for project in all_projects %}

  				<div class="col-md-4">
		  			<div class="card card-block">
		  				<div class="row">
		  					<div class="col-xs">
								<h4 class="card-title">{{ project.name }}</h4>
							</div>
						</div>
						<h6 class="card-subtitle text-muted">created by {{ project.creator }}</h6>
						{% for work in project.work_set.all %}
						{% if work.worker == user %}
						<p class="card-text">{{work.time_start|date:"m/d/y H:i:s"}} - {{work.time_end|date:"m/d/y H:i:s"}}</p>
						{% endif %}
						{% endfor %}
						<div class="text-xs-center">
							<a href="#" class="btn btn-danger">Punch Out</a>
						</div>
					</div>
				</div>

			{% endfor %}
			</div>

			<nav class="text-xs-center" aria-label="Page navigation">
				<ul class="pagination">
					<li class="page-item">
						<a class="page-link" href="#" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
						<span class="sr-only">Previous</span>
						</a>
					</li>
					<li class="page-item"><a class="page-link" href="#">1</a></li>
					<li class="page-item"><a class="page-link" href="#">2</a></li>
					<li class="page-item"><a class="page-link" href="#">3</a></li>
					<li class="page-item"><a class="page-link" href="#">4</a></li>
					<li class="page-item"><a class="page-link" href="#">5</a></li>
					<li class="page-item">
						<a class="page-link" href="#" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
						<span class="sr-only">Next</span>
						</a>
					</li>
				</ul>
			</nav>
  		</article>
  	</section>

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>

    <script type="text/javascript">
		$(function () {
  			$('[data-toggle="popover"]').popover({ html : true })
		})
  	</script>
  </body>
</html>